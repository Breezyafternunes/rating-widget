<!-- Custom Popup Dialog HTML -->
<div id="customPopup" style="display: none;">
  <h2>Rate this post:</h2>
  <div class="rating-stars">
    <i class="star far fa-star" data-rating="1"></i>
    <i class="star far fa-star" data-rating="2"></i>
    <i class="star far fa-star" data-rating="3"></i>
    <i class="star far fa-star" data-rating="4"></i>
    <i class="star far fa-star" data-rating="5"></i>
  </div>
</div>


<script>
// Function to handle the rate button click and show the custom popup dialog
function handleRateButtonClick() {
  Swal.fire({
    html: $("#customPopup").html(),
    showCloseButton: true,
    showCancelButton: false,
    showConfirmButton: false,
    customClass: {
      popup: "custom-popup",
    },
    onOpen: () => {
      // Handle the rating stars interaction
      $(".rating-stars .star").hover(
        function () {
          $(this).prevAll(".star").addClass("active");
          $(this).addClass("active");
        },
        function () {
          $(this).prevAll(".star").removeClass("active");
          $(this).removeClass("active");
        }
      );

      // Handle the submit button click
      $(".submit-button").click(function () {
        // Get the selected rating value
        const ratingValue = $(".rating-stars .star.active").data("rating");

        // Hide the popup dialog after submission
        Swal.close();

        // Call the function to save the rating (You can implement this part later)
        // saveRating(postID, ratingValue);
      });
    },
  });
}

// Add a click event handler to the rate button using the class selector
$(".rate-button").click(function () {
  handleRateButtonClick();
});
</script>
